---
description: Оптимизировать производительность
---

Помоги оптимизировать производительность указанного кода.

**Области оптимизации:**

1. **Файловые операции:**
   - Эффективное чтение больших JSONL
   - Буферизация записи
   - Асинхронные операции

2. **Watch режим:**
   - Правильный debounce
   - Эффективная фильтрация событий
   - Минимизация повторных экспортов

3. **API/Server:**
   - Кэширование списков
   - Эффективная отдача статики
   - Быстрый поиск

4. **Парсинг:**
   - Streaming для больших файлов
   - Lazy loading
   - Ранний выход при ошибках

**Процесс:**

1. **Профилирование:**
   - Где bottleneck?
   - Какие операции медленные?
   - Что занимает память?

2. **Анализ:**
   - Можно ли избежать операции?
   - Можно ли сделать lazy?
   - Можно ли кэшировать?

3. **Реализация:**
   - Маленькие изменения
   - Измерение после каждого
   - Сохранение корректности

4. **Проверка:**
   - Реально ли стало быстрее?
   - Нет ли регрессий?

**Метрики для claude-export:**

- Экспорт 100KB сессии: < 100ms
- Загрузка UI: < 500ms
- Watch debounce: 2s (не меньше!)
