---
description: Провести рефакторинг кода
---

Помоги провести рефакторинг указанного кода.

**Процесс:**

1. **Анализ текущего кода:**
   - Какие проблемы есть сейчас?
   - Что можно улучшить?
   - Какие паттерны нарушены?

2. **План рефакторинга:**
   - Что конкретно изменим?
   - В каком порядке?
   - Какие файлы затронуты?

3. **Принципы:**
   - Сохранить поведение (no breaking changes)
   - Улучшить читаемость
   - Уменьшить дублирование
   - Улучшить типизацию

4. **Реализация:**
   - Маленькие шаги
   - Проверка после каждого шага
   - `npm run build` должен проходить

5. **Проверка:**
   - Функциональность сохранена
   - Нет новых ошибок
   - Код стал лучше

**Типичные улучшения:**

- Выделение функций
- Улучшение типов TypeScript
- Удаление дублирования
- Упрощение сложной логики
- Лучшие имена переменных

**После рефакторинга:**
- Обновить ARCHITECTURE.md если изменилась структура
- Добавить в CHANGELOG.md
