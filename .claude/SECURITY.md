# Security Guidelines

**Project:** Claude Export
**Purpose:** Security considerations for dialog export utility
**Last Updated:** 2025-12-05

---

> **üîê Security Philosophy:**
> –£—Ç–∏–ª–∏—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–¥–∏–∞–ª–æ–≥–∏ —Å AI).
> –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å = –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é + –ª–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞.

---

## üéØ Security Model

### Threat Model

**–ß—Ç–æ –∑–∞—â–∏—â–∞–µ–º:**
- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–∏–∞–ª–æ–≥–æ–≤ —Å Claude Code
- –ö–æ–¥ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, –æ–±—Å—É–∂–¥–∞–µ–º—ã–µ –≤ –¥–∏–∞–ª–æ–≥–∞—Ö
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∏–º–µ–Ω–∞, email –∏–∑ git config)

**–û—Ç –∫–æ–≥–æ –∑–∞—â–∏—â–∞–µ–º:**
- –°–ª—É—á–∞–π–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤
- –ù–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∏–∞–ª–æ–≥–∞–º
- –£—Ç–µ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ —Å–µ—Ç—å

### Security Principles

1. **Privacy by Default** ‚Äî –î–∏–∞–ª–æ–≥–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
2. **Local Processing** ‚Äî –î–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
3. **No Telemetry** ‚Äî –ù–∏–∫–∞–∫–æ–π —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
4. **Explicit Consent** ‚Äî –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è

---

## ‚úÖ Security Features

### 1. Privacy by Default

**Implementation:**
```typescript
// exporter.ts:386
addToGitignore(outputPath, targetProjectPath);
return { ...result, isPublic: false }; // Private by default
```

**Benefit:**
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–ª—É—á–∞–π–Ω–æ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –¥–∏–∞–ª–æ–≥
- –ö–∞–∂–¥—ã–π –¥–∏–∞–ª–æ–≥ –Ω—É–∂–Ω–æ —è–≤–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–º

---

### 2. Local Processing

**No external APIs required:**
- –ü–∞—Ä—Å–∏–Ω–≥ JSONL ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ Markdown ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ
- –ó–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤ ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ
- Web UI ‚Äî localhost:3333

**Exception:** Auto-summary (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Claude CLI
- –î–∞–Ω–Ω—ã–µ –Ω–µ —É—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ API

---

### 3. Filesystem Permissions

**Read access needed:**
- `~/.claude/projects/` ‚Äî Claude Code —Å–µ—Å—Å–∏–∏

**Write access needed:**
- `<project>/.dialog/` ‚Äî –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏
- `<project>/.gitignore` ‚Äî Visibility control

**Security note:**
- –£—Ç–∏–ª–∏—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø—Ä–∞–≤–∞–º–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ù–µ—Ç elevated privileges required

---

## üìã Security Checklist

### For Development

- [x] No hardcoded secrets
- [x] No external API calls (except optional Claude CLI)
- [x] No telemetry or analytics
- [x] Privacy by default implemented
- [x] Local-only data processing
- [x] No database with credentials

### For Users

- [ ] –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ –¥–∏–∞–ª–æ–≥–∏ —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏ (API keys, passwords)
- [ ] –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π
- [ ] –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.gitignore` –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ù–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –Ω–∞ shared/public —Å–µ—Ä–≤–µ—Ä–∞—Ö

---

## üî¥ Security Considerations

### 1. Content in Dialogs

**Risk:** –î–∏–∞–ª–æ–≥–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:
- API –∫–ª—é—á–∏
- –ü–∞—Ä–æ–ª–∏
- –í–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**Mitigation:**
- Privacy by default
- Visual indicator –≤ UI (üîí Private / üåç Public)
- Warning –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

---

### 2. File System Access

**Risk:** –£—Ç–∏–ª–∏—Ç–∞ —á–∏—Ç–∞–µ—Ç `~/.claude/projects/`

**Mitigation:**
- Read-only access –∫ Claude –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- –ù–∏–∫–∞–∫–∏—Ö –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ó–∞–ø–∏—Å—å —Ç–æ–ª—å–∫–æ –≤ `.dialog/` –ø—Ä–æ–µ–∫—Ç–∞

---

### 3. Web UI

**Risk:** Express —Å–µ—Ä–≤–µ—Ä –Ω–∞ localhost

**Mitigation:**
- –¢–æ–ª—å–∫–æ localhost (127.0.0.1)
- –ù–µ—Ç authentication (–Ω–µ –Ω—É–∂–Ω–æ ‚Äî localhost only)
- –ù–µ—Ç HTTPS (localhost –Ω–µ —Ç—Ä–µ–±—É–µ—Ç)

**Note:** –ù–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ UI –Ω–∞ public IP!

---

### 4. Auto-Summary Feature

**Risk:** –í—ã–∑–æ–≤ Claude CLI —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º –¥–∏–∞–ª–æ–≥–∞

**Consideration:**
- –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Anthropic API (—á–µ—Ä–µ–∑ Claude CLI)
- –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω Claude CLI
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Claude Code ‚Äî —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ

**Mitigation:**
- –§—É–Ω–∫—Ü–∏—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è (—Ç–æ–ª—å–∫–æ –≤ watch mode)
- –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å (–Ω–µ –∑–∞–ø—É—Å–∫–∞—Ç—å watch)

---

## üõ°Ô∏è Best Practices

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

1. **–ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ external dependencies –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏**
2. **–ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞—Ä—É–∂—É**
3. **–õ–æ–≥–∏—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –≤ stdout/stderr**
4. **–ù–µ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤–Ω–µ .dialog/**

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–∏–∞–ª–æ–≥–∏ –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π**
2. **–ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ –¥–∏–∞–ª–æ–≥–∞—Ö**
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ git hooks –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏**
4. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ .gitignore**

---

## üìù Security Notes for AI Agents

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —ç—Ç–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º:

1. **–ù–µ –ø—Ä–µ–¥–ª–∞–≥–∞–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã**
2. **–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ privacy by default**
3. **–ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ telemetry**
4. **–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ñ–∏—á ‚Äî –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ security implications**

---

## üîç Security Audit Checklist

–ü—Ä–∏ code review –ø—Ä–æ–≤–µ—Ä—è—Ç—å:

- [ ] –ù–µ—Ç –Ω–æ–≤—ã—Ö external API calls
- [ ] –ù–µ—Ç hardcoded credentials
- [ ] –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ privacy model
- [ ] –ù–µ—Ç –Ω–æ–≤—ã—Ö file system access paths
- [ ] –ù–µ—Ç network listeners –∫—Ä–æ–º–µ localhost

---

*Security is not a feature, it's a requirement*
*Last updated: 2025-12-05*
